{
  "ConnectionStrings": {
    "DefaultConnection": "Data Source=messenger.db"
  },
  "Twilio": {
    "AccountSid": "YOUR_ACCOUNT_SID",
    "AuthToken": "YOUR_AUTH_TOKEN",
    "WhatsAppNumber": "whatsapp:+14155238886"
  },
  "AzureStorage": {
    "ConnectionString": "DefaultEndpointsProtocol=https;AccountName=YOUR_STORAGE_ACCOUNT;AccountKey=YOUR_ACCOUNT_KEY;EndpointSuffix=core.windows.net",
    "ContainerName": "messenger-media",
    "BaseUrl": "https://YOUR_STORAGE_ACCOUNT.blob.core.windows.net/"
  },
  "Jwt": {
    "Key": "VotreCleSecreteTresLongueEtSecurisee123456789",
    "Issuer": "MessengerApp",
    "Audience": "MessengerUsers",
    "ExpiryInHours": 24
  },
  "ReverseProxy": {
    "Routes": {
      "s3": {
        "ClusterId": "s3cluster",
        "Match": { "Path": "/api/s3/{**catch-all}" },
        "Transforms": [{ "PathPattern": "/{**catch-all}" }]
      },
      "janus": {
        "ClusterId": "januscluster",
        "Match": { "Path": "/api/janus/{**catch-all}" },
        "Transforms": [{ "PathPattern": "/{**catch-all}" }]
      },
      "transcriber": {
        "ClusterId": "transcriber",
        "Match": { "Path": "/api/transcriptions/{**catch-all}" },
        "Transforms": [{ "PathPattern": "/{**catch-all}" }]
      },
      "map": {
        "ClusterId": "mapcluster",
        "Match": { "Path": "/api/map/{**catch-all}" },
        "Transforms": [{ "PathPattern": "/{**catch-all}" }]
      }
    },
    "Clusters": {
      "s3cluster":        { "Destinations": { "a": { "Address": "http://s3-go:8080/" } } },
      "januscluster":     { "Destinations": { "a": { "Address": "http://janus-gw:8080/" } } },
      "transcriber":      { "Destinations": { "a": { "Address": "http://transcriber:8085/" } } },
      "mapcluster":       { "Destinations": { "a": { "Address": "http://map-api:8080/" } } }
    }
  }
}
